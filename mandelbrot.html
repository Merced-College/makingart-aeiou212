<!DOCTYPE html>
<html>
<body>
<canvas id='c' width='800' height='600'></canvas>
<script>
const canvas = document.getElementById('c');
const ctx = canvas.getContext('2d');
const img = ctx.createImageData(800, 600);
let data = img.data;
const PALETTE_SIZE = 6;
const red = [54, 25, 90, 10, 5, 36];
const green = [24, 70, 10, 10, 25, 80];
const blue = [10, 10, 92, 15, 20, 10];
let i = 0;
for (let y = 0; y < 600; y++) {
  for (let x = 0; x < 800; x++) {
    let zx = 0, zy = 0;
    let cX = (x - 400) / 150;
    let cY = (y - 300) / 150;
    let iter = 300;
    while (zx*zx + zy*zy < 4 && iter > 0) {
      let tmp = zx*zx - zy*zy + cX;
      zy = 2*zx*zy + cY;
      zx = tmp;
      iter--;
    }
    if (iter === 0) {
      data[i++] = 0;
      data[i++] = 0;
      data[i++] = 0;
      data[i++] = 255;
      continue;
    } else {
      let used = 300 - iter;
      iter = (used % PALETTE_SIZE);
      data[i++] = red[iter];
      data[i++] = green[iter];
      data[i++] = blue[iter];
      data[i++] = 255;
    }
ctx.putImageData(img, 0, 0);
</script>
</body>
</html>
  }
}
